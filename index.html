<!doctype html>
<html class="no-js" ng-app="codegen">

<head>
	<meta charset="UTF-8" />
	<meta name="language" content="english" />
	<title>ET Code Home</title>
	<link rel="stylesheet" href="css/normalize.css" />
	<link rel="stylesheet" href="css/foundation.min.css" />
	<link rel="stylesheet" href="css/style.css" />
	
	<link rel="stylesheet" href="css/font-awesome.min.css" />
	<link rel="stylesheet" href="css/viewer.css" />
	<link rel="stylesheet" href="css/sweetalert.css" />
	
	<script src="js/vendor/jquery.js"></script>
	<script src="js/vendor/modernizr.js"></script>
	
	<script src="js/angular/angular.min.js"></script>
	<script src="js/angular/angular-route.min.js"></script>
	<script src="js/angular/angular-sanitize.min.js"></script>
	
	<script src="js/sweetalert.min.js"></script>
	
	<link rel="stylesheet" href="http://cdn.jsdelivr.net/highlight.js/8.7/styles/monokai.min.css">
	<script src="http://cdn.jsdelivr.net/highlight.js/8.7/highlight.min.js"></script>
	
	<script src="js/angular/app.js"></script>
	
	
</head>

<body ng-controller="globalController">
	
	<div class="fixed">
		<nav class="top-bar" data-topbar role="navigation">
		 <section class="top-bar-section">

		   	<ul class="left">
		   		<li><a id="reload">Fix Bugs</a></li>
		     	<li class="has-dropdown">
			        <a>Layout</a>
			        <ul class="dropdown">
				        <li class="active"><a href="#/" ng-click="changeLayout($event)">Default</a></li>
				        <li><a href="#/product-alert" ng-click="changeLayout($event)">Product Alert</a></li>
				        <li><a href="#/product-update" ng-click="changeLayout($event)">Product Update</a></li>
				        <li><a href="#/blank" ng-click="changeLayout($event)">Blank</a></li>
		       		</ul>
		     	</li>
		     	<li class="divider"></li>
		     	<li><a ng-click="collapseAll()">Collapse All</a></li>
		     	<li><a ng-click="expandAll()">Expand All</a></li>
		     
		   	</ul>
			
		  	<ul class="right">
		   		<li><a ng-click="breakImg($event)">Break Images</a></li>
		    	<li class="divider"></li>
		      	<li class="active"><a ng-click="showDesignView($event)">Show Design</a></li>
		      	<li><a ng-click="showCodeView($event)">Show Code</a></li>
		   	</ul>
		    
		 </section>
		</nav>
	</div>
	
	<div id="container">
	
		<div class="small-12 medium-6 large-5 columns make-margin-top">
			
			<div id="sections" createsection ng-view></div>
			<!-- Sections -->
			
			<div class="new-section-wrap">
				<div class="header small-12 columns new-section keep-pad-left" ng-click="slide($event)">
					<div class="left">
						<h2>New Section</h2>
					</div>
					<div class="right">
						<div class="vis">
							<a class="add-section"><i class="fa fa-plus" ng-mouseover="changeBackground($event, 'green')" ng-mouseout="changeBack($event)"></i></a>
						</div>
					</div>
				</div>
				<div class="large-12 columns build section close-top collapsed chbg black">
					
					<div class="icon-bar three-up" >
					  <a class="item" id="banner" type="banner" ng-click="newSection($event, element, attr)">
					    <i class="fa fa-picture-o"></i>
					    <label>Banner</label>
					  </a>
					  <a class="item" id="cta" ng-click="newSection($event, element)">
					    <i class="fa fa-newspaper-o" ></i>
					    <label>CTA</label>
					  </a>
					  <a class="item" id="cta-twobuttons" ng-click="newSection($event, element)">
					  	<i class="fa fa-list-alt"></i>
					  	<label>CTA - Two Buttons</label>
					  </a>
					  <a class="item" id="fea" ng-click="newSection($event, element)">
					    <i class="fa fa-sitemap"></i>
					    <label>Three Columns</label>
					  </a>
					  <a class="item" id="tcs" ng-click="newSection($event, element)">
					    <i class="fa fa-th-large"></i>
					    <label>Two Columns</label>
					  </a>
					  <a class="item" id="text-block" ng-click="newSection($event, element)">
					  	<i class="fa fa-toggle-on"></i>
					  	<label>Terms &amp; Conditions</label>
					  </a>
					</div>
				</div>
			</div>
			<!-- Create new section -->
		</div>
		
		<div class="small-12 medium-6 large-7 columns viewWrap" ng-controller="codeController">
			<div id="viewer" showprog type="design"></div>
			<div id="sourceViewer" showprog type="code"></div>
		</div>
	
	</div>
	
	<script src="js/foundation.min.js"></script>
	<script src="js/foundation/foundation.topbar.min.js"></script>
	
	<script>
	$(document).foundation();
	
	jQuery.fn.selectText = function(){
	    this.find('input').each(function() {
	        if($(this).prev().length == 0 || !$(this).prev().hasClass('p_copy')) { 
	            $('<p class="p_copy" style="position: absolute; z-index: -1;"></p>').insertBefore($(this));
	        }
	        $(this).prev().html($(this).val());
	    });
	    var doc = document;
	    var element = this[0];
	    console.log(this, element);
	    if (doc.body.createTextRange) {
	        var range = document.body.createTextRange();
	        range.moveToElementText(element);
	        range.select();
	    } else if (window.getSelection) {
	        var selection = window.getSelection();        
	        var range = document.createRange();
	        range.selectNodeContents(element);
	        selection.removeAllRanges();
	        selection.addRange(range);
	    }
	};
	
	$('#reload').click(function(){
	
		location.reload();
	
	});
	
	</script>
	
	</body>
</html>